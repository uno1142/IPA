# モジュールの分割

書くプログラムをモジュールという単位に分解・階層化させることをプログラムの構造化設計という。  
構造化のためのモジュール分割技法には、データの流れに着目した技法とデータの構造に着目したした技法の2グループがある。  

- データの流れに着目  
STS分割法、トランザクション分割法、共通機能分割法
- データの構造に着目  
ジャクソン法、ワーニエ法

※人名がついているほうがデータ構造に着目と覚える！

## モジュールに分けるメリット

メリット  

- 作業が分担できる
- 再利用が用意
- 修正が一部で済む

注意点
- 妙な分割をすると保守が難しくなることがある

## モジュールの分割技法

### STS分割法

プログラムを「入力処理(Source)」「変換処理(Transform)」「出力処理(Sink)」という３つのモジュールに分割する方法。  

### トランザクション分割法

プログラムを一連のトランザクション（処理）単位に分割する方法。  
ex)aの更新、bの更新、cの更新…というようにファイル更新の処理を分割する

### 共通機能分割法

プログラム内の共通機能をモジュールとして分割する方法。   
共通モジュールとして切り出すことで類似機能を重複して作る必要がなくなる。  

## モジュールの独立性を測る尺度

モジュールは機能的に明確で、かつ入出力がはっきりわかるものがいいとされている  
こうしたモジュールの独立性を測る尺度として用いられるのがモジュール強度とモジュール結合度である。  

### モジュール強度
モジュール内の機能が内部でどのように関連づいているかを示す尺度。  
どれだけ機能的に特化できているかを示すもので、これが高いほど独立性が高くて好ましいとなる。  
可能な限り１モジュール１機能を目指すのが望ましい。

以下は上にあるものほどモジュール強度が高く、独立性が高い。

- 機能的強度  
単一の機能を実行するためのモジュール。シンプルでわかりやすいゆえに強固。
- 情報的強度  
同一のデータ構造を扱う機能をひとつにまとめたモジュールで、機能ごとに入出力が可能。
- 連絡的強度  
複数の機能が逐次的に実行されるモジュール。各機能は共通の入力または出力データを参照している。
- 手順的強度  
複数の機能が逐次的に実行されるが、各機能にデータ的なつながりはない。
- 時間的強度  
特定の時間に連続して複数の機能を実行するために同一モジュール化されたもの。機能間の関連性は弱い。
- 論理的強度  
関連したいくつかの機能を含み、機能を指定するパラメータにより、１つの機能を選択して実行するもの。
- 暗号的強度  
モジュールを大きさだけで分割し、たまたま重複した部分について共通モジュール化したもの。暗号を仕込まれたように理解不能なことが多いため暗号的という。

### モジュール結合度

モジュールがほかのモジュールとどのように結合するかを示す尺度。  
どんなデータをやり取りすることでほかのモジュールと結合するかを表すもので、これが弱いほどモジュールの独立性が高く好ましい。  

以下は上にあるものほど強度が低く、独立性が高い。

- データ結合  
単一のデータを引数として受け渡すモジュール  
- スタンプ結合  
データ構造を引数として受け渡すモジュール
- 制御結合  
ほかのモジュールを制御する目的で、引数として制御パラメータを受け渡しするモジュール
- 外部結合  
単一のデータを大域的データとして受け渡すモジュール  
- 共通結合  
データ構造を大域的データとして受け渡すモジュール  
- 内容結合  
ほかのモジュール内のデータを直接参照するモジュール


