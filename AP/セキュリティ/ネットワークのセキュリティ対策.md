# ネットワークのセキュリティ対策


## ファイアウォール

LANの中と外を区切る壁として登場するのがファイアウォール。  
ファイアウォールとは防火壁を意味し、外からの不正なアクセスを火事とみなして、それを食い止める存在という意味でこの言葉を使っている。  

ファイアウォールは機能的な役割のことなので特に定まった形はない。  
主な実現方法としてはパケットフィルタリングやアプリケーションゲートウェイなどが挙げられる。

## パケットフィルタリング

パケットフィルタリングは、パケットを無条件に通過させるのではなく、あらかじめ指定されたルールにのっとって通過させるか否かを制御する機能。  

この機能ではパケットのヘッダ情報を見て通過の可否を判定する。  
通常、アプリケーションが提供するサービスはプロトコルとポート番号で区別されるので、この指定はすなわちどのサービスは通過させるかと決めたことになる。

## アプリケーションゲートウェイ

アプリケーションゲートウェイはLANと外の間に位置し、外部とのやり取りを行う機能。   
プロキシサーバとも呼ばれる。   

プロキシサーバはリクエストを受け取るとかわりに相手のサーバとやりとりを行い、取得結果をLANに渡す。  

外のコンピュータからはプロキシサーバしか見えないのでLAN内のコンピュータが不正アクセスの標的となることを防ぐことができる。  

アプリケーションゲートウェイ型のファイアウォールにはWAF(Web Application Firewall)がある。  
これはWebアプリケーションに対する外部からのアクセスを監視するもので、たとえばサニタイズ機能によりクロスサイトスクリプティングを無効化するなどによって脆弱性を悪用した攻撃からwebサーバを保護する。 



## ペネトレーション

既知の手法を用いて実際に攻撃を行い、これによってシステムのセキュリティホールや設定ミスといった脆弱性の有無を確認するテストがペネトレーションテスト。

ペネトレーションテストではDMZ(De Militarized Zone)と呼ばれる内部のネットワークから隔離されて設けられる中間的な領域にシステムを置き、インターネット側から実際に攻撃を行って検証する。  

このテストによってファイアウォールや公開サーバに対して侵入できないことを確認するが、もし侵入されてしまったらどうなるか、どこまで突破されるか、なにをされてしまうのかといった視点での検証にも特徴がある。  

