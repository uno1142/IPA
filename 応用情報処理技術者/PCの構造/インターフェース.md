# 入出力インターフェース

>インターフェース (英: interface) はインタフェース、インタフェイス、インターフェイスとも書き、英語で界面や接触面、中間面などといった意味を持ち、転じてコンピュータと周辺機器の接続部分を表すようになった。さらに、ユーザーインターフェースなどのように、人間と自動機械との間の複雑な操作をする手順・規則との意味にも使われる。

## システムバスのインターフェース

大きく分けて次の3種類がある。  

- PCI
- AGP
- PCIe

## PCI(Peripheral Component Interconnect)

汎用的な拡張インターフェース。パソコンの標準的な拡張バス規格として広く使われていた。  
この後継規格がPCIeで、現在の主流はそちらに移っている。  

転送方式はパラレル。  
データバス幅は32bit or 64bit
最大転送速度は  
動作クロック33Mhz(32bitの時の標準)の時→133Mバイト/秒  
動作クロック66MHz(64bitの時の標準)の時→533バイト/秒  
駆動電圧には3.3Vと5Vの2種類があり、スロットの切り抜き位置で判別できるようになっている。  

## AGP(Accelerated Graphics Port)

グラフィックカード用の拡張インターフェース。グラフィックカード専用の経路をPCIバスから独立したものとすることで  
より高速に画像や動画といった大きなデータを扱えるようにしたもの。  
インテル社が策定。PCIと同じく、後継規格のPCIeに置き換えられた。  

転送方式はパラレル。  
データバス幅は32bitのみ  
最大転送速度は  
66Mhz(AGPx1)→266Mバイト/秒  
133MHz(AGPx2)→533MHzバイト/秒  
266MHz(AGPx4)→1.06Gバイト/秒  
533MHz(AGPx8)→2.13Gバイト/秒


## PCIe(PCI Express)

PCIとAGPを置き換える、現在標準として使われている汎用的な拡張インターフェース。  
シリアル方式を採用することで、パラレル方式の限界を超えた高速化を実現している。  
※パラレル方式では信号間のタイミングを取ることが難しくなったため最近はシリアル方式  



## PCIeの詳細

PCIeでは、送受信に要する信号線の1セットをレーンと呼び、これが最小単位となる。  
型方面当たりの物理層の速度は2.5Gビット/秒、実行データ転送速度は2Gビット = 259Mバイト/秒   
送受信双方向では倍の500Mバイト/秒となる。

PCIeはレーンを基本単位とし、これを複数束ねることで高速な転送速度を実現している。  

規格上は1,2,4,8,16,32といったレーン数が選択できるが、PCのマザーボードでよく使われているのは次の2つ。  

- 1レーン・・・主にPCIの役割を代替する汎用的なスロットとして使用 
- 16レーン・・・主にAGPの役割を代替するグラフィックカード向けのスロットとして使われる  

第二世代のPCI Express 2.0では1レーンあたりの転送速度が5Gbit/秒と倍になり、さらに高速化されている。  


# パラレル方式の外部バスインターフェース

IDEやSCSIなどが挙げられる。いずれもシリアル方式が主流になっていったことで役割を終えつつある。  

## IDE(Integrated Drive Electronics), ATA

内蔵用ハードディスクを接続するための規格として使われていたインターフェース。  
これを標準化したものがATA(Advanced Technology Attachment)で、若干の改良が含まれるがほぼIDEと同じもの。  
当初は「最大2台までのハードディスクを接続できる」という規格であったが、のちに拡張されて
CD-ROMドライブなどの接続にも対応したEIDE(Enhanced IED)が登場、広く普及する。  
EIDEでは「最大4台までの機器(ハードディスクやCD-ROMなど)」を接続することができる。
2台ずつ機器を接続することができ、マスタ(主)とスレーブ(副)の区別がある。
今はシリアルATA(SATA)が主流。

## SCSI(Small Computer System Interface)

ハードディスクCD-ROM,MOドライブ、イメージスキャナなど様々な周辺機器の接続に使われていたインターフェース。  
デイジーチェーンと呼ばれる数珠繋ぎに機器を連結していく接続方法をとる。接続できるのはコンピュータを含めて8台まで。   
各機器には識別のために固有のID番号(SCSI ID)を割り当てる。終端にはターミネータ（終端抵抗）が必要。


# シリアル方式の外部バスインターフェース

代表的なのがUSB(Universal Serial Bus)。  
そのほかに、映像系の機器に強い「IEEE1394」や、IDE(ATA)の置き換えとなる「SATA(Serial ATA)」などがある。  

## USB

PCと機器をつなぐ際のもっとも標準的なインターフェース。  
「電源をいれたまま機器を抜き差しできるホットプラグ」と「周辺機器をつなぐと自動的に設定が開始されるプラグ・アンド・プレイ」に対応している。  
USBハブを使うと127台まで接続することができる。  
USBには複数の規格があり、高速なUSB2.0やUSB3.0になると外付けHDDの接続などに使われる。

On-the-Goという拡張規格をサポートする機器では、機器同士を直接つないで、パソコンを介さずに使用することができる。  
ex) プリンターとデジカメなど  
次のような転送方式(転送プロトコル)に対応している。  

- アイソクロナス転送・・・一定時間当たりの転送量を保証する。動画などのストリーミング再生に適する。途中で失敗したりしても再送しない。
- インタラプト転送・・・一定間隔でデータを転送する。  
- バルク転送・・・まとまった量のデータを一括で転送する。
- コントロール転送・・・割愛

参考になりそうなサイト:[USBの通信プロトコル](http://www.picfun.com/usb03.html)


## IEEE1394

i.LinkやFireWireという名前でも呼ばれる。主にハードディスクレコーダなどの情報家電やデジタルビデオカメラなどの機器に使われているインターフェース。  
USBと同じくホットプラグやプラグ・アンド・プレイに対応しており、データ転送には音声や映像の転送に適したアイソクロナス転送を採用している。  

USBと同じようにリピートハブを使用し(63台まで)ツリー状に接続する方法のほかに、数珠つなぎのデイジーチェーン方式も使える(PC込みで17台まで)。

## SATA

パラレル方式のATAをシリアル方式にして高速化したもの。ハードディスクや高額ドライブなどを接続するきあっくとして現在主流のインターフェース。  
パラレルATAと違い接続する機器にマスタ・スレーブの区別はなく、1本のケーブルに1台の機器を接続する(ポイントツーポイント)


# 無線インターフェース

ケーブルを使用しない無線で通信するタイプの入出力インターフェースもある。  
代表的なものに「IrDA」「Bluetooth」がある。  

## IrDA(Infrared Data Association)

赤外線を使って無線通信を行う規格。携帯電話やノートPCなどに使われていた。通信距離は1m以内で、間に障害物があると通信できない。  

## Bluetooth

2.4GHzの電波を使って無線通信を行う規格。携帯やノートPCのほか、キーボードやマウス、プリンタなど様々な周辺機器をワイヤレス接続することができる。  
通信距離は10mくらいで、間に障害物があっても関係なし。
