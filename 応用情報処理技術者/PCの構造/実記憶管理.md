# 実記憶管理

限られた主記憶空間を効率よく使えるようプログラムに割り当てるのが実記憶管理の役割。
固定区画方式、可変区画方式などがある


## 固定区画方式

主記憶に固定長の区画（パーティション）を設けて、そこにプログラムを読み込む。  
管理は簡単だが、主記憶の利用効率はあまりよくない。

## 可変区画方式

プログラムをロードするタイミングで必要なサイズに区切る管理方式。   
プログラムが必要とする大きさで区画を作り、そこにプログラムをロードする。  
区画に無駄がないので主記憶の利用効率が良いだけではなく、大きな区画を要するプログラムを実行できるというメリットがある。  


### 断片化

ただしプログラムが詰め込んだ順番に終了するとは限らず、空き容量が細切れになってしまうことがある。  
こうなってしまうと空き容量自体は実行に足るサイズだったとしても連続した状態で確保できない。  
この現象をフラグメンテーション(断片化)という。  

フラグメンテーションを解消するには、ロードされているプログラムを再配置する必要がある。  
この操作をメモリコンパクション、またはガーベージコレクションと呼ぶ。



##  オーバーレイ方式

空き容量を超えたサイズのプログラムを実行するための工夫がオーバーレイ方式。  
プログラムというのは複数の機能が組み合わさった集合体だが、常に全機能が必要になるわけではない。   
処理の過程で必要となる機能だけをロードすることにしてやれば、占有する場所を減らすことができる。  
これをオーバーレイ方式と呼ぶ。

オーバーレイ方式ではプログラムをセグメントという単位に分割しておいて、その時に必要なセグメントだけを  
主記憶上にロードして実行する。

## スワッピング方式

マルチプログラミング環境では優先度の高いプログラムによる割りこみなどが発生した場合、現在実行中のものをいったん中断させて切り替える。  
このような時、優先度の低いプログラムが使っていた主記憶領域の内容を、いったん補助記憶装置に丸ごと退避させることで空き領域を作る。  
退避させて空きを作る操作をスワップアウト、退避させたプログラムを再ロードする操作をスワップインと呼ぶ。  
スワップインとスワップアウトを合わせた処理のことをスワッピングと呼び、これが発生すると低速な補助記憶装置にアクセスするため処理速度が極端に低下する。  

